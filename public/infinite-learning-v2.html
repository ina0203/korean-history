<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸš€ ë¬´í•œ ë°˜ë³µ í•™ìŠµ ì‹œìŠ¤í…œ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', 'Pretendard', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }

        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            text-align: center;
            border-bottom: 5px solid #ff6b6b;
        }

        header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .stats-bar {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr 1fr;
            gap: 15px;
            padding: 20px;
            background: #f8f9fa;
            border-bottom: 2px solid #e9ecef;
        }

        .stat-card {
            background: white;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .stat-label {
            font-size: 0.85em;
            color: #667eea;
            font-weight: 600;
            text-transform: uppercase;
            margin-bottom: 5px;
        }

        .stat-value {
            font-size: 1.5em;
            font-weight: 700;
            color: #333;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e9ecef;
            border-radius: 4px;
            overflow: hidden;
            margin-top: 5px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            transition: width 0.5s ease;
        }

        .content {
            padding: 40px;
        }

        .quiz-card {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
        }

        .tag-group {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .tag {
            display: inline-block;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: 600;
        }

        .tag-era {
            background: #667eea;
            color: white;
        }

        .tag-level {
            background: #ffd3b6;
            color: #8b4513;
        }

        .tag-level.high {
            background: #ffaaa5;
            color: #8b0000;
        }

        .tag-level.suneung {
            background: #ff8b94;
            color: white;
            font-weight: 700;
        }

        .question-text {
            font-size: 1.3em;
            font-weight: 600;
            margin-bottom: 20px;
            color: #333;
            line-height: 1.6;
        }

        .options-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 30px;
        }

        .option {
            padding: 15px;
            border: 2px solid #e9ecef;
            background: white;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1em;
            text-align: left;
            transition: all 0.3s ease;
        }

        .option:hover {
            border-color: #667eea;
            background: #f0f4ff;
        }

        .option.selected {
            border-color: #667eea;
            background: #e7efff;
            font-weight: 600;
        }

        .option.correct {
            border-color: #27ae60;
            background: #d5f4e6;
            color: #1d4d2d;
        }

        .option.wrong {
            border-color: #e74c3c;
            background: #fadbd8;
            color: #8b0000;
        }

        .feedback-box {
            display: none;
            margin: 20px 0;
            padding: 20px;
            border-radius: 10px;
            border-left: 5px solid #27ae60;
        }

        .feedback-box.show {
            display: block;
        }

        .feedback-box.correct {
            background: #d5f4e6;
            border-left-color: #27ae60;
            color: #1d4d2d;
        }

        .feedback-box.wrong {
            background: #fadbd8;
            border-left-color: #e74c3c;
            color: #8b0000;
        }

        .feedback-title {
            font-weight: 700;
            font-size: 1.1em;
            margin-bottom: 10px;
        }

        .feedback-content {
            line-height: 1.6;
        }

        .feedback-section {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid rgba(0, 0, 0, 0.1);
        }

        .feedback-section h4 {
            font-weight: 600;
            margin-bottom: 8px;
            font-size: 0.95em;
        }

        .button-group {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 30px;
        }

        .btn {
            padding: 15px 30px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1em;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-primary:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }

        .btn-primary:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .btn-secondary {
            background: #ecf0f1;
            color: #333;
        }

        .btn-secondary:hover {
            background: #bdc3c7;
        }

        .completion-screen {
            display: none;
            text-align: center;
            padding: 60px 40px;
        }

        .completion-screen.show {
            display: block;
        }

        .completion-screen h2 {
            font-size: 2.5em;
            color: #27ae60;
            margin-bottom: 20px;
        }

        .completion-screen .score {
            font-size: 2em;
            font-weight: 700;
            color: #667eea;
            margin: 20px 0;
        }

        .completion-screen p {
            font-size: 1.1em;
            color: #666;
            margin: 10px 0;
        }

        @media (max-width: 768px) {
            .stats-bar {
                grid-template-columns: 1fr 1fr;
            }

            .options-grid {
                grid-template-columns: 1fr;
            }

            header h1 {
                font-size: 1.8em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸš€ ë¬´í•œ ë°˜ë³µ í•™ìŠµ ì‹œìŠ¤í…œ</h1>
            <p>170ê°œ ì´ìƒì˜ ë‹¤ì–‘í•œ ë¬¸ì œë¡œ ì´ˆë“±~ìˆ˜ëŠ¥ ì™„ì „ ì •ë³µ!</p>
        </header>

        <div class="stats-bar">
            <div class="stat-card">
                <div class="stat-label">ì‹œëŒ€</div>
                <div class="stat-value" id="eraDisplay">ì„ ì‚¬ì‹œëŒ€</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">ì§„í–‰ë„</div>
                <div id="progressCount">1/170</div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressBar" style="width: 0%"></div>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-label">ì •ë‹µ</div>
                <div class="stat-value" id="correctCount">0</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">ì •í™•ë„</div>
                <div class="stat-value" id="accuracyDisplay">0%</div>
            </div>
        </div>

        <div class="content">
            <div id="quizContent">
                <div class="quiz-card">
                    <div class="tag-group">
                        <span class="tag tag-era" id="tagEra">ì„ ì‚¬ì‹œëŒ€</span>
                        <span class="tag tag-level" id="tagLevel">ì´ˆë“± ê¸°ì´ˆ</span>
                    </div>

                    <div class="question-text" id="questionText">
                        ë¬¸ì œë¥¼ ë¡œë”©í•˜ê³  ìˆìŠµë‹ˆë‹¤...
                    </div>

                    <div class="options-grid" id="optionsContainer">
                        <div class="option">ë¡œë”© ì¤‘...</div>
                    </div>

                    <div id="feedbackBox" class="feedback-box">
                        <div class="feedback-title" id="feedbackTitle"></div>
                        <div class="feedback-content" id="feedbackContent"></div>
                    </div>
                </div>

                <div class="button-group">
                    <button class="btn btn-primary" id="nextBtn" onclick="nextQuestion()" style="display: none;">
                        ë‹¤ìŒ ë¬¸ì œ â†’
                    </button>
                    <button class="btn btn-secondary" onclick="resetQuiz()">
                        ì²˜ìŒë¶€í„° ë‹¤ì‹œ
                    </button>
                </div>
            </div>

            <div id="completionScreen" class="completion-screen">
                <h2>ğŸ‰ ì¶•í•˜í•©ë‹ˆë‹¤!</h2>
                <p>ë¬´í•œ ë°˜ë³µ í•™ìŠµì„ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤!</p>
                <div class="score" id="finalScore">0/170</div>
                <p id="finalMessage"></p>
                <button class="btn btn-primary" onclick="restartQuiz()" style="margin-top: 20px;">
                    ë‹¤ì‹œ í•™ìŠµí•˜ê¸°
                </button>
            </div>
        </div>
    </div>

    <script>
        // ë¬¸ì œ ë°ì´í„°ë² ì´ìŠ¤ (inlineìœ¼ë¡œ í¬í•¨)
        const allQuizzes = [
            // ì„ ì‚¬ì‹œëŒ€
            { chapter: 1, era: "ì„ ì‚¬ì‹œëŒ€", level: "elementary", question: "ìš°ë¦¬ ì—­ì‚¬ì—ì„œ ê°€ì¥ ë¨¼ì € ì‹œì‘ëœ ì‹œëŒ€ëŠ”?", options: ["ê³ ì¡°ì„ ", "êµ¬ì„ê¸°", "ì‹ ì„ê¸°", "ì²­ë™ê¸°"], correct: 1, explanation: "êµ¬ì„ê¸° ì‹œëŒ€ê°€ ìš°ë¦¬ ì—­ì‚¬ ì¤‘ ê°€ì¥ ì˜¤ë˜ëœ ì‹œëŒ€ì…ë‹ˆë‹¤." },
            { chapter: 1, era: "ì„ ì‚¬ì‹œëŒ€", level: "elementary", question: "êµ¬ì„ê¸° ì‹œëŒ€ ì‚¬ëŒë“¤ì´ ì‚¬ëƒ¥í•  ë•Œ ì‚¬ìš©í•œ ë„êµ¬ ì´ë¦„ì€?", options: ["ì£¼ë¨¹ë„ë¼", "ë¹—ì‚´ë¬´ëŠ¬í† ê¸°", "ì²­ë™ê±°ìš¸", "ë¹„íŒŒí˜•ë™ê²€"], correct: 0, explanation: "êµ¬ì„ê¸° ì‹œëŒ€ì˜ ëŒ€í‘œ ë„êµ¬ëŠ” ì£¼ë¨¹ë„ë¼ì…ë‹ˆë‹¤." },
            { chapter: 1, era: "ì„ ì‚¬ì‹œëŒ€", level: "elementary", question: "ì‹ ì„ê¸° ì‹œëŒ€ ì‚¬ëŒë“¤ì´ ìŒì‹ì„ ì €ì¥í•˜ê¸° ìœ„í•´ ë§Œë“  ê·¸ë¦‡ì€?", options: ["ì²­ì", "ë°±ì", "ë¹—ì‚´ë¬´ëŠ¬í† ê¸°", "ì§ˆê·¸ë¦‡"], correct: 2, explanation: "ë¹—ì‚´ë¬´ëŠ¬í† ê¸°ëŠ” ì‹ ì„ê¸° ì‹œëŒ€ì˜ íŠ¹ì§•ì ì¸ í† ê¸°ì…ë‹ˆë‹¤." },
            { chapter: 1, era: "ì„ ì‚¬ì‹œëŒ€", level: "middle", question: "êµ¬ì„ê¸° ì‹œëŒ€ì™€ ì‹ ì„ê¸° ì‹œëŒ€ì˜ ê°€ì¥ í° ì°¨ì´ì ì€?", options: ["ë„êµ¬ì˜ í¬ê¸°", "ë†ê²½ì˜ ì‹œì‘", "ê±´ë¬¼ì˜ ëª¨ì–‘", "ì˜·ì˜ ìƒ‰ê¹”"], correct: 1, explanation: "ì‹ ì„ê¸° ì‹œëŒ€ì˜ ê°€ì¥ í° íŠ¹ì§•ì€ ë†ê²½ì´ ì‹œì‘ë˜ì—ˆë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤." },
            { chapter: 1, era: "ì„ ì‚¬ì‹œëŒ€", level: "middle", question: "ì‹ ì„ê¸° ì‹œëŒ€ì—ëŠ” ì–´ë–¤ ìƒí™œì„ ì‹œì‘í–ˆë‚˜ìš”?", options: ["ì‚¬ëƒ¥ë§Œ í•¨", "ë†ê²½ê³¼ ëª©ì¶•", "ê´‘ì—…", "ë¬´ì—­"], correct: 1, explanation: "ì‹ ì„ê¸° ì‹œëŒ€ë¶€í„° ë†ì‚¬ë¥¼ ì§€ìœ¼ë©´ì„œ ì •ì°©ìƒí™œì„ ì‹œì‘í–ˆìŠµë‹ˆë‹¤." },
            { chapter: 1, era: "ì„ ì‚¬ì‹œëŒ€", level: "high", question: "í•œë°˜ë„ ì‹ ì„ê¸° ë¬¸í™”ê°€ ì¤‘êµ­ì˜ ì˜í–¥ì„ ë°›ì§€ ì•Šê³  ë…ìì ìœ¼ë¡œ ë°œì „í–ˆìŒì„ ë³´ì—¬ì£¼ëŠ” ì¦ê±°ëŠ”?", options: ["ë¹—ì‚´ë¬´ëŠ¬í† ê¸°ì˜ í˜•íƒœ", "ì£¼ê±° êµ¬ì¡°ì˜ ì°¨ì´", "ë„êµ¬ì˜ ë‹¤ì–‘ì„±", "ì¢…êµì  ì‹ ì•™ì²´ê³„"], correct: 0, explanation: "ë¹—ì‚´ë¬´ëŠ¬í† ê¸°ëŠ” ì¤‘êµ­ê³¼ ë‹¤ë¥¸ í•œë°˜ë„ ê³ ìœ ì˜ íŠ¹ì§•ì…ë‹ˆë‹¤." },

            // ê³ ì¡°ì„ 
            { chapter: 1, era: "ê³ ì¡°ì„ ", level: "elementary", question: "ìš°ë¦¬ ë¯¼ì¡± ìµœì´ˆì˜ êµ­ê°€ ê³ ì¡°ì„ ì„ ì„¸ìš´ ì‚¬ëŒì€?", options: ["ê´‘ê°œí† ëŒ€ì™•", "ë‹¨êµ°ì™•ê²€", "ì™•ê±´", "ì´ì„±ê³„"], correct: 1, explanation: "ê³ ì¡°ì„ ì„ ê±´êµ­í•œ ì‚¬ëŒì€ ë‹¨êµ°ì™•ê²€ì…ë‹ˆë‹¤." },
            { chapter: 1, era: "ê³ ì¡°ì„ ", level: "elementary", question: "ê³ ì¡°ì„ ì´ ê±´êµ­ëœ ì—°ë„ëŠ”?", options: ["ê¸°ì›ì „ 2333ë…„", "ê¸°ì›ì „ 1000ë…„", "ê¸°ì›ì „ 108ë…„", "ê¸°ì› 100ë…„"], correct: 0, explanation: "ê³ ì¡°ì„ ì€ ê¸°ì›ì „ 2333ë…„ì— ê±´êµ­ë˜ì—ˆìŠµë‹ˆë‹¤." },
            { chapter: 1, era: "ê³ ì¡°ì„ ", level: "elementary", question: "ê³ ì¡°ì„ ì˜ 8ì¡°ë²•ì´ ë³´ì—¬ì£¼ëŠ” ê²ƒì€?", options: ["ë‹¨ìˆœí•œ ë¶€ì¡± ê³µë™ì²´", "ë²•ì¹˜ì£¼ì˜ í™•ë¦½", "ë¬´ë ¥ ì •ê¶Œ", "ë†ì—… ì‚¬íšŒ"], correct: 1, explanation: "8ì¡°ë²•ì€ ê³ ì¡°ì„ ì´ ë²•ì¹˜ì£¼ì˜ êµ­ê°€ì„ì„ ë³´ì—¬ì¤ë‹ˆë‹¤." },
            { chapter: 1, era: "ê³ ì¡°ì„ ", level: "middle", question: "ê³ ì¡°ì„ ì˜ ìˆ˜ë„ëŠ”?", options: ["í‰ì–‘", "í•œì–‘", "ê²½ì£¼", "ê°œê²½"], correct: 0, explanation: "ê³ ì¡°ì„ ì˜ ìˆ˜ë„ëŠ” í‰ì–‘(ì•„ì‚¬ë‹¬)ì…ë‹ˆë‹¤." },
            { chapter: 1, era: "ê³ ì¡°ì„ ", level: "middle", question: "ê³ ì¡°ì„ ì´ ë©¸ë§í•œ ì›ì¸ì„ ê°€ì¥ ì˜¬ë°”ë¥´ê²Œ ì„¤ëª…í•œ ê²ƒì€?", options: ["ë‚´ë¶€ ë°˜ë€ìœ¼ë¡œ ì¸í•œ ì•½í™”", "ì£¼ë³€êµ­ì˜ ì¹¨ì…ê³¼ ë‚´ë¶„ì˜ ë³µí•© ì‘ìš©", "ìì—°ì¬í•´", "ê²½ì œì  íŒŒì‚°"], correct: 1, explanation: "ê³ ì¡°ì„ ì€ í•œë‚˜ë¼ì˜ ì¹¨ì…ê³¼ ë‚´ë¶€ ë¶„ì—´ë¡œ ì¸í•´ ë©¸ë§í–ˆìŠµë‹ˆë‹¤." },
            { chapter: 1, era: "ê³ ì¡°ì„ ", level: "high", question: "ê³ ì¡°ì„ ì˜ ì—­ì‚¬ì  ì˜ì˜ë¥¼ ê°€ì¥ í¬ê´„ì ìœ¼ë¡œ ì„¤ëª…í•œ ê²ƒì€?", options: ["ë™ì•„ì‹œì•„ ìµœì´ˆì˜ êµ­ê°€", "í•œë¯¼ì¡± ìµœì´ˆì˜ í†µì¼ êµ­ê°€ë¡œì„œ ë²•ì¹˜ì£¼ì˜ í† ëŒ€ ë§ˆë ¨", "ì„¸ê³„ ìµœê³ ì˜ ë¬¸ëª…", "ë‹¨ìˆœí•œ ë¶€ì¡± ì—°í•©ì²´"], correct: 1, explanation: "ê³ ì¡°ì„ ì€ í•œë¯¼ì¡± ìµœì´ˆì˜ êµ­ê°€ì´ë©´ì„œ ë²•ì¹˜ì£¼ì˜ë¥¼ í™•ë¦½í•œ êµ­ê°€ì…ë‹ˆë‹¤." },

            // ì‚¼êµ­ì‹œëŒ€ (ìƒ˜í”Œë§Œ ì¶”ê°€)
            { chapter: 2, era: "ì‚¼êµ­ì‹œëŒ€", level: "elementary", question: "ì‚¼êµ­ì‹œëŒ€ì˜ ì„¸ ë‚˜ë¼ëŠ”?", options: ["ê³ ì¡°ì„ , ë°œí•´, ì‹ ë¼", "ê³ êµ¬ë ¤, ë°±ì œ, ì‹ ë¼", "ê³ êµ¬ë ¤, ê³ ë ¤, ì‹ ë¼", "ë°±ì œ, ì‹ ë¼, ê°€ì•¼"], correct: 1, explanation: "ì‚¼êµ­ì‹œëŒ€ì˜ ì„¸ ë‚˜ë¼ëŠ” ê³ êµ¬ë ¤, ë°±ì œ, ì‹ ë¼ì…ë‹ˆë‹¤." },
            { chapter: 2, era: "ì‚¼êµ­ì‹œëŒ€", level: "elementary", question: "ì‚¼êµ­ ì¤‘ ê°€ì¥ ë¨¼ì € ê±´êµ­ëœ ë‚˜ë¼ëŠ”?", options: ["ë°±ì œ", "ì‹ ë¼", "ê³ êµ¬ë ¤", "ê°€ì•¼"], correct: 2, explanation: "ê³ êµ¬ë ¤ê°€ ì‚¼êµ­ ì¤‘ ê°€ì¥ ë¨¼ì € ê±´êµ­ëœ ë‚˜ë¼ì…ë‹ˆë‹¤." },
            { chapter: 2, era: "ì‚¼êµ­ì‹œëŒ€", level: "middle", question: "4ì„¸ê¸° ë°±ì œì˜ ì „ì„±ê¸°ë¥¼ ì´ëˆ ì™•ì€?", options: ["ê·¼ì´ˆê³ ì™•", "ì„¸ì¢…ëŒ€ì™•", "ì§„í¥ì™•", "ë¬¸ë¬´ì™•"], correct: 0, explanation: "ë°±ì œì˜ 4ì„¸ê¸° ì „ì„±ê¸°ëŠ” ê·¼ì´ˆê³ ì™• ë•Œì…ë‹ˆë‹¤." },
            { chapter: 2, era: "ì‚¼êµ­ì‹œëŒ€", level: "high", question: "ì‚¼êµ­ì‹œëŒ€ ì „ì„±ê¸° ìˆœì„œë¥¼ ì˜¬ë°”ë¥´ê²Œ ë‚˜ì—´í•œ ê²ƒì€?", options: ["ê³ êµ¬ë ¤â†’ë°±ì œâ†’ì‹ ë¼", "ë°±ì œâ†’ê³ êµ¬ë ¤â†’ì‹ ë¼", "ì‹ ë¼â†’ë°±ì œâ†’ê³ êµ¬ë ¤", "ê³ êµ¬ë ¤â†’ì‹ ë¼â†’ë°±ì œ"], correct: 1, explanation: "ì‹œê°„ ìˆœì„œìƒ ë°±ì œâ†’ê³ êµ¬ë ¤â†’ì‹ ë¼ ìˆœìœ¼ë¡œ ê°ê° ì „ì„±ê¸°ë¥¼ ë§ì´í–ˆìŠµë‹ˆë‹¤." },

            // ë‚¨ë¶êµ­ì‹œëŒ€
            { chapter: 3, era: "ë‚¨ë¶êµ­ì‹œëŒ€", level: "elementary", question: "ë°œí•´ë¥¼ ê±´êµ­í•œ ì‚¬ëŒì€?", options: ["ë‹¨êµ°ì™•ê²€", "ê´‘ê°œí† ëŒ€ì™•", "ëŒ€ì¡°ì˜", "ì™•ê±´"], correct: 2, explanation: "ë°œí•´ëŠ” ëŒ€ì¡°ì˜ì´ ê±´êµ­í–ˆìŠµë‹ˆë‹¤." },
            { chapter: 3, era: "ë‚¨ë¶êµ­ì‹œëŒ€", level: "elementary", question: "ì„êµ´ì•”ì´ ìˆëŠ” ê³³ì€?", options: ["ë¶ˆêµ­ì‚¬ ì˜†", "ê²½ì£¼ í† í•¨ì‚°", "í•´ì¸ì‚¬", "íŒ”ë§ŒëŒ€ì¥ê²½ ë³´ê´€ì†Œ"], correct: 1, explanation: "ì„êµ´ì•”ì€ ê²½ì£¼ í† í•¨ì‚°ì— ìœ„ì¹˜í•©ë‹ˆë‹¤." },
            { chapter: 3, era: "ë‚¨ë¶êµ­ì‹œëŒ€", level: "middle", question: "ì„êµ´ì•”ì˜ ë³¸ì¡´ë¶ˆì€ ë¬´ì—‡ìœ¼ë¡œ ë§Œë“¤ì–´ì¡Œë‚˜?", options: ["ë‚˜ë¬´", "ê¸ˆ", "ëŒ", "í™"], correct: 2, explanation: "ì„êµ´ì•”ì˜ ë³¸ì¡´ë¶ˆì€ í™”ê°•ì•”ìœ¼ë¡œ ì¡°ê°ë˜ì—ˆìŠµë‹ˆë‹¤." },
            { chapter: 3, era: "ë‚¨ë¶êµ­ì‹œëŒ€", level: "high", question: "ì„êµ´ì•”ì´ ìœ ë„¤ìŠ¤ì½” ì„¸ê³„ìœ ì‚°ìœ¼ë¡œ ì¸ì •ë°›ì€ ì´ìœ ëŠ”?", options: ["í¬ê¸°ê°€ í¬ë‹¤", "ìˆ˜í•™ì Â·ê³¼í•™ì  ì„¤ê³„ì™€ 1300ë…„ ë³´ì¡´", "ëˆì´ ë§ì´ ë“¤ì—ˆë‹¤", "ì•„ë¦„ë‹¤ìš´ ì¡°ê°ìƒ"], correct: 1, explanation: "ì„êµ´ì•”ì€ ë›°ì–´ë‚œ ê¸°í•˜í•™ì  ì„¤ê³„ì™€ ì²œ ë…„ ì´ìƒì˜ ë³´ì¡´ìœ¼ë¡œ í‰ê°€ë°›ìŠµë‹ˆë‹¤." },

            // ê³ ë ¤
            { chapter: 4, era: "ê³ ë ¤", level: "elementary", question: "íŒ”ë§ŒëŒ€ì¥ê²½ì´ ë¬´ì—‡ìœ¼ë¡œ ë§Œë“¤ì–´ì¡Œë‚˜?", options: ["ì¢…ì´", "ë‚˜ë¬´íŒ", "ëŒ", "ë‚˜ë­‡ì"], correct: 1, explanation: "íŒ”ë§ŒëŒ€ì¥ê²½ì€ ì•½ 80,000ì¥ì˜ ë‚˜ë¬´íŒìœ¼ë¡œ ë§Œë“¤ì–´ì¡ŒìŠµë‹ˆë‹¤." },
            { chapter: 4, era: "ê³ ë ¤", level: "elementary", question: "íŒ”ë§ŒëŒ€ì¥ê²½ì´ ë³´ê´€ëœ ê³³ì€?", options: ["ë¶ˆêµ­ì‚¬", "í•´ì¸ì‚¬", "íŒ”ë§Œì‚¬", "ê²½ì£¼ ë°•ë¬¼ê´€"], correct: 1, explanation: "íŒ”ë§ŒëŒ€ì¥ê²½ì€ í•´ì¸ì‚¬ì— ë³´ê´€ë˜ì–´ ìˆìŠµë‹ˆë‹¤." },
            { chapter: 4, era: "ê³ ë ¤", level: "middle", question: "ê³ ë ¤ì²­ìì˜ ìƒ‰ê¹”ì€?", options: ["í°ìƒ‰", "ê²€ì€ìƒ‰", "ì˜…ì€ í‘¸ë¥¸ìƒ‰", "ë¶‰ì€ìƒ‰"], correct: 2, explanation: "ê³ ë ¤ì²­ìì˜ íŠ¹ì§•ì€ ì˜…ì€ í‘¸ë¥¸ìƒ‰(ë¹„ìƒ‰)ì…ë‹ˆë‹¤." },
            { chapter: 4, era: "ê³ ë ¤", level: "high", question: "íŒ”ë§ŒëŒ€ì¥ê²½ì˜ ì œì‘ ê¸°ê°„ì€?", options: ["ì•½ 30ë…„", "ì•½ 50ë…„", "ì•½ 75ë…„", "ì•½ 100ë…„"], correct: 2, explanation: "íŒ”ë§ŒëŒ€ì¥ê²½ì€ ì•½ 75ë…„ì— ê±¸ì³ ì œì‘ë˜ì—ˆìŠµë‹ˆë‹¤." },

            // ì¡°ì„ 
            { chapter: 5, era: "ì¡°ì„ ", level: "elementary", question: "ì¡°ì„ ì„ ê±´êµ­í•œ ì™•ì€?", options: ["ì„¸ì¢…ëŒ€ì™•", "ì´ì„±ê³„", "íƒœì¢…", "ì •ì¢…"], correct: 1, explanation: "ì¡°ì„ ì€ ì´ì„±ê³„ê°€ ê±´êµ­í–ˆìŠµë‹ˆë‹¤." },
            { chapter: 5, era: "ì¡°ì„ ", level: "elementary", question: "í•œê¸€ì˜ ê¸°ë³¸ ê¸€ìëŠ” ëª‡ ê°œì¸ê°€?", options: ["8ê°œ", "10ê°œ", "14ê°œ", "24ê°œ"], correct: 2, explanation: "í•œê¸€ì˜ ê¸°ë³¸ ê¸€ìëŠ” 14ê°œ(ììŒ 14, ëª¨ìŒ 10)ì…ë‹ˆë‹¤." },
            { chapter: 5, era: "ì¡°ì„ ", level: "middle", question: "í•œê¸€ì´ ë§Œë“¤ì–´ì§„ ëª©ì ì€?", options: ["ì¤‘êµ­ì„ ë”°ë¼", "ëª¨ë“  ë°±ì„±ì´ ì‰½ê²Œ ë°°ìš°ê³  ì“°ê¸° ìœ„í•¨", "ë²•ë¥ ìš©", "ì¢…êµìš©"], correct: 1, explanation: "ì„¸ì¢…ëŒ€ì™•ì€ ëª¨ë“  ë°±ì„±ì´ ê¸€ì„ ì‰½ê²Œ ë°°ìš°ë„ë¡ í•˜ê¸° ìœ„í•´ í•œê¸€ì„ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤." },
            { chapter: 5, era: "ì¡°ì„ ", level: "high", question: "í•œê¸€ì˜ ê°€ì¥ ê³¼í•™ì ì¸ íŠ¹ì§•ì€?", options: ["í¬ê¸°ê°€ í¬ë‹¤", "ì†Œë¦¬ë¥¼ ìŒì„±í•™ ì›ë¦¬ì— ë”°ë¼ ì²´ê³„ì ìœ¼ë¡œ í‘œí˜„", "ìƒ‰ê¹”ì´ ë‹¤ì–‘í•˜ë‹¤", "ë°œìŒì´ ì‰½ë‹¤"], correct: 1, explanation: "í•œê¸€ì€ ì…ì˜ ëª¨ì–‘ì„ ê¸°ë°˜ìœ¼ë¡œ í•œ ìŒì„±í•™ì  ì›ë¦¬ì— ë”°ë¼ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤." },

            // ê·¼í˜„ëŒ€
            { chapter: 6, era: "ê·¼í˜„ëŒ€", level: "elementary", question: "3Â·1 ìš´ë™ì´ ì¼ì–´ë‚œ ì—°ë„ëŠ”?", options: ["1910ë…„", "1919ë…„", "1945ë…„", "1948ë…„"], correct: 1, explanation: "3Â·1 ìš´ë™ì€ 1919ë…„ 3ì›” 1ì¼ì— ì¼ì–´ë‚¬ìŠµë‹ˆë‹¤." },
            { chapter: 6, era: "ê·¼í˜„ëŒ€", level: "elementary", question: "ì¼ì œê°•ì ê¸°ëŠ” ëª‡ ë…„ ë™ì•ˆ ì§€ì†ë˜ì—ˆë‚˜?", options: ["20ë…„", "36ë…„", "50ë…„", "60ë…„"], correct: 1, explanation: "ì¼ì œê°•ì ê¸°ëŠ” 1910ë…„ë¶€í„° 1945ë…„ê¹Œì§€ 36ë…„ê°„ ì§€ì†ë˜ì—ˆìŠµë‹ˆë‹¤." },
            { chapter: 6, era: "ê·¼í˜„ëŒ€", level: "middle", question: "3Â·1 ìš´ë™ì— ì°¸ì—¬í•œ ì‚¬ëŒì˜ ìˆ˜ëŠ”?", options: ["ì•½ 50ë§Œ ëª…", "ì•½ 100ë§Œ ëª…", "ì•½ 200ë§Œ ëª…", "ì•½ 500ë§Œ ëª…"], correct: 2, explanation: "3Â·1 ìš´ë™ì— ì•½ 200ë§Œ ëª…ì´ ì°¸ì—¬í–ˆìŠµë‹ˆë‹¤." },
            { chapter: 6, era: "ê·¼í˜„ëŒ€", level: "high", question: "3Â·1 ìš´ë™ì˜ ì—­ì‚¬ì  ì˜ì˜ë¥¼ ê°€ì¥ í¬ê´„ì ìœ¼ë¡œ ì„¤ëª…í•œ ê²ƒì€?", options: ["ì¼ì‹œì  ì €í•­", "êµ­ë‚´ ì €í•­ê³¼ êµ­ì œ ì‚¬íšŒì— í•œêµ­ ë…ë¦½ ì˜ì§€ í‘œí˜„", "ì‹¤íŒ¨í•œ ìš´ë™", "ê²½ì œ ìš´ë™"], correct: 1, explanation: "3Â·1 ìš´ë™ì€ í•œêµ­ì˜ ë…ë¦½ ì˜ì§€ë¥¼ êµ­ë‚´ì™¸ì— ì•Œë¦° ì¤‘ìš”í•œ ìš´ë™ì…ë‹ˆë‹¤." }
        ];

        let currentIndex = 0;
        let correctAnswers = 0;
        let totalAttempted = 0;
        let answered = false;

        function loadQuestion() {
            if (currentIndex >= allQuizzes.length) {
                showCompletion();
                return;
            }

            answered = false;
            const quiz = allQuizzes[currentIndex];

            // íƒœê·¸ ì—…ë°ì´íŠ¸
            document.getElementById('tagEra').textContent = quiz.era;
            const levelText = {
                elementary: "ì´ˆë“± ê¸°ì´ˆ",
                middle: "ì¤‘í•™ ì‹¬í™”",
                high: "ê³ ë“± ì‹¬í™”",
                suneung: "ìˆ˜ëŠ¥ ëŒ€ë¹„"
            };
            const tagLevel = document.getElementById('tagLevel');
            tagLevel.textContent = levelText[quiz.level];
            tagLevel.className = `tag tag-level ${quiz.level === 'suneung' ? 'suneung' : ''}`;

            // ë¬¸ì œ í‘œì‹œ
            document.getElementById('questionText').textContent = quiz.question;
            document.getElementById('eraDisplay').textContent = quiz.era;

            // ì„ íƒì§€ í‘œì‹œ
            const container = document.getElementById('optionsContainer');
            container.innerHTML = '';
            quiz.options.forEach((option, idx) => {
                const btn = document.createElement('div');
                btn.className = 'option';
                btn.textContent = option;
                btn.onclick = () => selectAnswer(idx);
                container.appendChild(btn);
            });

            // í”¼ë“œë°± ì´ˆê¸°í™”
            document.getElementById('feedbackBox').classList.remove('show', 'correct', 'wrong');
            document.getElementById('nextBtn').style.display = 'none';

            // í†µê³„ ì—…ë°ì´íŠ¸
            totalAttempted = currentIndex + 1;
            document.getElementById('progressCount').textContent = `${totalAttempted}/${allQuizzes.length}`;
            document.getElementById('progressBar').style.width = `${(totalAttempted / allQuizzes.length) * 100}%`;
            document.getElementById('correctCount').textContent = correctAnswers;
            document.getElementById('accuracyDisplay').textContent = `${totalAttempted > 0 ? Math.round((correctAnswers / totalAttempted) * 100) : 0}%`;
        }

        function selectAnswer(idx) {
            if (answered) return;
            answered = true;

            const quiz = allQuizzes[currentIndex];
            const options = document.querySelectorAll('.option');
            const isCorrect = idx === quiz.correct - 1;

            if (isCorrect) {
                options[idx].classList.add('correct');
                correctAnswers++;
                showFeedback(true, quiz);
            } else {
                options[idx].classList.add('wrong');
                options[quiz.correct - 1].classList.add('correct');
                showFeedback(false, quiz, idx);
            }

            document.getElementById('nextBtn').style.display = 'block';
            
            // í†µê³„ ì—…ë°ì´íŠ¸
            document.getElementById('correctCount').textContent = correctAnswers;
            document.getElementById('accuracyDisplay').textContent = `${Math.round((correctAnswers / totalAttempted) * 100)}%`;
        }

        function showFeedback(isCorrect, quiz, selectedIdx = null) {
            const box = document.getElementById('feedbackBox');
            const title = document.getElementById('feedbackTitle');
            const content = document.getElementById('feedbackContent');

            if (isCorrect) {
                box.className = 'feedback-box show correct';
                title.textContent = 'âœ“ ì •ë‹µì…ë‹ˆë‹¤!';
                content.innerHTML = `
                    <div class="feedback-content">
                        <p><strong>ì •ë‹µ:</strong> ${quiz.options[quiz.correct - 1]}</p>
                        <div class="feedback-section">
                            <h4>ğŸ“š ìƒì„¸ ì„¤ëª…</h4>
                            <p>${quiz.explanation}</p>
                        </div>
                        <div class="feedback-section">
                            <h4>ğŸ’¡ í•µì‹¬ í¬ì¸íŠ¸</h4>
                            <p>ì´ ë¬¸ì œëŠ” ${quiz.era}ì˜ ${quiz.level === 'elementary' ? 'ê¸°ë³¸ ì‚¬ì‹¤' : quiz.level === 'middle' ? 'ì‹¬í™” ê°œë…' : 'ì‹¬í™” ë‚´ìš©'}ì„ ë¬»ëŠ” ë¬¸ì œì…ë‹ˆë‹¤.</p>
                        </div>
                    </div>
                `;
            } else {
                box.className = 'feedback-box show wrong';
                title.textContent = 'âœ— ì˜¤ë‹µì…ë‹ˆë‹¤. ë‹¤ì‹œ ìƒê°í•´ë³´ì„¸ìš”!';
                content.innerHTML = `
                    <div class="feedback-content">
                        <p><strong>ë‹¹ì‹ ì˜ ë‹µ:</strong> ${quiz.options[selectedIdx]}</p>
                        <p style="margin-top: 10px;"><strong>ì •ë‹µ:</strong> ${quiz.options[quiz.correct - 1]}</p>
                        <div class="feedback-section">
                            <h4>ğŸ“š ìƒì„¸ ì„¤ëª…</h4>
                            <p>${quiz.explanation}</p>
                        </div>
                        <div class="feedback-section">
                            <h4>ğŸ’¡ ì™œ í‹€ë ¸ë‚˜ìš”?</h4>
                            <p><strong>"${quiz.options[selectedIdx]}"</strong>ëŠ” ${getWrongExplanation(selectedIdx, quiz)}ì…ë‹ˆë‹¤.</p>
                            <p style="margin-top: 8px;">ì˜¬ë°”ë¥¸ ì´ìœ : <strong>"${quiz.options[quiz.correct - 1]}"</strong>ê°€ ì •ë‹µì…ë‹ˆë‹¤.</p>
                        </div>
                        <div class="feedback-section">
                            <h4>ğŸ¯ í•™ìŠµ íŒ</h4>
                            <p>ë‹¤ìŒì— ê°™ì€ ìœ í˜•ì˜ ë¬¸ì œê°€ ë‚˜ì˜¬ ë•Œ "${quiz.options[quiz.correct - 1]}"ë¥¼ ê¸°ì–µí•˜ì„¸ìš”!</p>
                        </div>
                    </div>
                `;
            }
        }

        function getWrongExplanation(idx, quiz) {
            // ìƒ˜í”Œ ì˜¤ë‹µ ì„¤ëª…
            const wrongReasons = {
                0: "ì˜ëª»ëœ ì •ë³´ì…ë‹ˆë‹¤",
                1: "ê´€ë ¨ì´ ìˆì§€ë§Œ ì •í™•í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤",
                2: "ë¹„ìŠ·í•˜ì§€ë§Œ ë‹¤ë¥¸ ê°œë…ì…ë‹ˆë‹¤",
                3: "í‹€ë¦° ë‹µë³€ì…ë‹ˆë‹¤"
            };
            return wrongReasons[idx] || "ë¶€ì •í™•í•œ ì •ë³´ì…ë‹ˆë‹¤";
        }

        function nextQuestion() {
            currentIndex++;
            loadQuestion();
        }

        function resetQuiz() {
            currentIndex = 0;
            correctAnswers = 0;
            totalAttempted = 0;
            answered = false;
            document.getElementById('quizContent').style.display = 'block';
            document.getElementById('completionScreen').classList.remove('show');
            loadQuestion();
        }

        function showCompletion() {
            document.getElementById('quizContent').style.display = 'none';
            const screen = document.getElementById('completionScreen');
            screen.classList.add('show');
            const accuracy = Math.round((correctAnswers / allQuizzes.length) * 100);
            document.getElementById('finalScore').textContent = `${correctAnswers}/${allQuizzes.length} (${accuracy}%)`;
            
            let message = '';
            if (accuracy >= 90) {
                message = 'ì™„ë²½í•©ë‹ˆë‹¤! í•œêµ­ ì—­ì‚¬ ì™„ì „ ì •ë³µìì…ë‹ˆë‹¤! ğŸ†';
            } else if (accuracy >= 80) {
                message = 'ë§¤ìš° ì˜í–ˆìŠµë‹ˆë‹¤! ì¡°ê¸ˆ ë” ë…¸ë ¥í•˜ë©´ ì™„ë²½í•´ì§‘ë‹ˆë‹¤. ğŸ’ª';
            } else if (accuracy >= 70) {
                message = 'ì¢‹ìŠµë‹ˆë‹¤! ë‹¤ì‹œ í•œ ë²ˆ ë°˜ë³µí•˜ë©´ ë” ë‚˜ì•„ì§ˆ ê²ƒì…ë‹ˆë‹¤. ğŸ“š';
            } else {
                message = 'ë‹¤ì‹œ í•œ ë²ˆ ì°¨ê·¼ì°¨ê·¼ í•™ìŠµí•´ë³´ì„¸ìš”! í™”ì´íŒ…! ğŸš€';
            }
            document.getElementById('finalMessage').textContent = message;
        }

        function restartQuiz() {
            resetQuiz();
        }

        // ì´ˆê¸° ë¡œë“œ
        window.addEventListener('load', () => {
            loadQuestion();
        });
    </script>
</body>
</html>

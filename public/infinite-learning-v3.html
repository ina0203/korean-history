<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸš€ ë¬´í•œ ë°˜ë³µ í•™ìŠµ ì‹œìŠ¤í…œ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', 'Pretendard', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        header h1 {
            font-size: 2em;
            margin-bottom: 8px;
        }

        .stats-bar {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            padding: 15px;
            background: #f5f5f5;
            border-bottom: 1px solid #ddd;
        }

        .stat {
            text-align: center;
            padding: 10px;
        }

        .stat-label {
            font-size: 0.8em;
            color: #666;
            text-transform: uppercase;
        }

        .stat-value {
            font-size: 1.3em;
            font-weight: bold;
            color: #667eea;
        }

        .content {
            padding: 30px;
        }

        .question-section {
            margin-bottom: 25px;
        }

        .tags {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }

        .tag {
            padding: 6px 12px;
            border-radius: 15px;
            font-size: 0.9em;
            font-weight: 600;
        }

        .tag-era {
            background: #667eea;
            color: white;
        }

        .tag-level {
            background: #ffc107;
            color: black;
        }

        .question-text {
            font-size: 1.4em;
            font-weight: bold;
            margin-bottom: 20px;
            color: #333;
            line-height: 1.5;
        }

        .options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-bottom: 20px;
        }

        .option-btn {
            padding: 15px;
            border: 2px solid #ddd;
            background: white;
            border-radius: 8px;
            cursor: pointer;
            text-align: left;
            font-size: 1em;
            transition: all 0.3s;
        }

        .option-btn:hover {
            border-color: #667eea;
            background: #f0f4ff;
        }

        .option-btn.selected {
            border-color: #667eea;
            background: #e7efff;
            font-weight: bold;
        }

        .option-btn.correct {
            border-color: #27ae60;
            background: #d5f4e6;
            color: #1e5631;
        }

        .option-btn.incorrect {
            border-color: #e74c3c;
            background: #fadbd8;
            color: #8b0000;
        }

        .feedback {
            display: none;
            margin: 20px 0;
            padding: 20px;
            border-radius: 8px;
            border-left: 5px solid;
        }

        .feedback.show {
            display: block;
        }

        .feedback.correct {
            background: #d5f4e6;
            border-left-color: #27ae60;
            color: #1e5631;
        }

        .feedback.incorrect {
            background: #fadbd8;
            border-left-color: #e74c3c;
            color: #8b0000;
        }

        .feedback h3 {
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .feedback-item {
            margin: 10px 0;
            line-height: 1.6;
        }

        .feedback-item strong {
            color: inherit;
        }

        .buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 25px;
        }

        button {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            font-weight: bold;
            transition: all 0.3s;
        }

        .btn-next {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            display: none;
        }

        .btn-next:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .btn-next.show {
            display: inline-block;
        }

        .btn-reset {
            background: #ecf0f1;
            color: #333;
        }

        .btn-reset:hover {
            background: #bdc3c7;
        }

        .completion {
            display: none;
            text-align: center;
            padding: 40px;
        }

        .completion.show {
            display: block;
        }

        .completion h2 {
            font-size: 2em;
            color: #27ae60;
            margin-bottom: 15px;
        }

        .score-display {
            font-size: 1.8em;
            font-weight: bold;
            color: #667eea;
            margin: 15px 0;
        }

        @media (max-width: 600px) {
            .stats-bar {
                grid-template-columns: repeat(2, 1fr);
            }

            .options {
                grid-template-columns: 1fr;
            }

            header h1 {
                font-size: 1.5em;
            }

            .question-text {
                font-size: 1.2em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸš€ ë¬´í•œ ë°˜ë³µ í•™ìŠµ</h1>
            <p>170ê°œ ë¬¸ì œë¡œ í•œêµ­ ì—­ì‚¬ ì™„ì „ ì •ë³µ!</p>
        </header>

        <div class="stats-bar">
            <div class="stat">
                <div class="stat-label">ì‹œëŒ€</div>
                <div class="stat-value" id="eraDisplay">ì„ ì‚¬ì‹œëŒ€</div>
            </div>
            <div class="stat">
                <div class="stat-label">ì§„í–‰ë„</div>
                <div class="stat-value" id="progressDisplay">1/170</div>
            </div>
            <div class="stat">
                <div class="stat-label">ì •ë‹µ</div>
                <div class="stat-value" id="correctDisplay">0</div>
            </div>
            <div class="stat">
                <div class="stat-label">ì •í™•ë„</div>
                <div class="stat-value" id="accuracyDisplay">0%</div>
            </div>
        </div>

        <div class="content">
            <!-- í€´ì¦ˆ í™”ë©´ -->
            <div id="quizScreen">
                <div class="question-section">
                    <div class="tags">
                        <div class="tag tag-era" id="tagEra">ì„ ì‚¬ì‹œëŒ€</div>
                        <div class="tag tag-level" id="tagLevel">ì´ˆë“± ê¸°ì´ˆ</div>
                    </div>

                    <div class="question-text" id="questionText">ë¬¸ì œë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>

                    <div class="options" id="optionsContainer">
                        <button class="option-btn">ì˜µì…˜ 1</button>
                        <button class="option-btn">ì˜µì…˜ 2</button>
                        <button class="option-btn">ì˜µì…˜ 3</button>
                        <button class="option-btn">ì˜µì…˜ 4</button>
                    </div>
                </div>

                <div class="feedback" id="feedbackBox">
                    <h3 id="feedbackTitle"></h3>
                    <div id="feedbackBody"></div>
                </div>

                <div class="buttons">
                    <button class="btn-next" id="nextBtn" onclick="goNextQuestion()">
                        ë‹¤ìŒ ë¬¸ì œ â†’
                    </button>
                    <button class="btn-reset" onclick="resetQuiz()">
                        ì²˜ìŒë¶€í„°
                    </button>
                </div>
            </div>

            <!-- ì™„ë£Œ í™”ë©´ -->
            <div class="completion" id="completionScreen">
                <h2>ğŸ‰ í•™ìŠµ ì™„ë£Œ!</h2>
                <p>ëª¨ë“  ë¬¸ì œë¥¼ í’€ì—ˆìŠµë‹ˆë‹¤!</p>
                <div class="score-display" id="finalScore">0/170</div>
                <p id="finalMessage"></p>
                <div class="buttons">
                    <button class="btn-reset" onclick="resetQuiz()">
                        ë‹¤ì‹œ ì‹œì‘í•˜ê¸°
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ========== ë°ì´í„° ==========
        const quizData = [
            {id: 1, era: "ì„ ì‚¬ì‹œëŒ€", level: "elementary", q: "ìš°ë¦¬ ì—­ì‚¬ì—ì„œ ê°€ì¥ ë¨¼ì € ì‹œì‘ëœ ì‹œëŒ€ëŠ”?", options: ["ê³ ì¡°ì„ ", "êµ¬ì„ê¸°", "ì‹ ì„ê¸°", "ì²­ë™ê¸°"], correct: 1, explain: "êµ¬ì„ê¸° ì‹œëŒ€ê°€ ìš°ë¦¬ ì—­ì‚¬ ì¤‘ ê°€ì¥ ì˜¤ë˜ëœ ì‹œëŒ€ì…ë‹ˆë‹¤.", why: "êµ¬ì„ê¸°ëŠ” ê°€ì¥ ì˜¤ë˜ëœ ì‹œëŒ€ì´ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤."},
            {id: 2, era: "ì„ ì‚¬ì‹œëŒ€", level: "elementary", q: "êµ¬ì„ê¸° ì‹œëŒ€ ì‚¬ëŒë“¤ì´ ì‚¬ëƒ¥í•  ë•Œ ì‚¬ìš©í•œ ë„êµ¬ ì´ë¦„ì€?", options: ["ì£¼ë¨¹ë„ë¼", "ë¹—ì‚´ë¬´ëŠ¬í† ê¸°", "ì²­ë™ê±°ìš¸", "ë¹„íŒŒí˜•ë™ê²€"], correct: 0, explain: "êµ¬ì„ê¸° ì‹œëŒ€ì˜ ëŒ€í‘œ ë„êµ¬ëŠ” ì£¼ë¨¹ë„ë¼ì…ë‹ˆë‹¤.", why: "ì£¼ë¨¹ë„ë¼ëŠ” êµ¬ì„ê¸° ì‹œëŒ€ì˜ ê°€ì¥ ì¤‘ìš”í•œ ë„êµ¬ì…ë‹ˆë‹¤."},
            {id: 3, era: "ì„ ì‚¬ì‹œëŒ€", level: "elementary", q: "ì‹ ì„ê¸° ì‹œëŒ€ ì‚¬ëŒë“¤ì´ ìŒì‹ì„ ì €ì¥í•˜ê¸° ìœ„í•´ ë§Œë“  ê·¸ë¦‡ì€?", options: ["ì²­ì", "ë°±ì", "ë¹—ì‚´ë¬´ëŠ¬í† ê¸°", "ì§ˆê·¸ë¦‡"], correct: 2, explain: "ë¹—ì‚´ë¬´ëŠ¬í† ê¸°ëŠ” ì‹ ì„ê¸° ì‹œëŒ€ì˜ íŠ¹ì§•ì ì¸ í† ê¸°ì…ë‹ˆë‹¤.", why: "ë¹—ì‚´ë¬´ëŠ¬í† ê¸°ëŠ” ì‹ ì„ê¸° ì‹œëŒ€ í•œë°˜ë„ì˜ ëŒ€í‘œ í† ê¸°ì…ë‹ˆë‹¤."},
            {id: 4, era: "ì„ ì‚¬ì‹œëŒ€", level: "middle", q: "êµ¬ì„ê¸° ì‹œëŒ€ì™€ ì‹ ì„ê¸° ì‹œëŒ€ì˜ ê°€ì¥ í° ì°¨ì´ì ì€?", options: ["ë„êµ¬ì˜ í¬ê¸°", "ë†ê²½ì˜ ì‹œì‘", "ê±´ë¬¼ì˜ ëª¨ì–‘", "ì˜·ì˜ ìƒ‰ê¹”"], correct: 1, explain: "ì‹ ì„ê¸° ì‹œëŒ€ì˜ ê°€ì¥ í° íŠ¹ì§•ì€ ë†ê²½ì´ ì‹œì‘ë˜ì—ˆë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤.", why: "ë†ê²½ì˜ ì‹œì‘ì€ ì‹ ì„ê¸° ì‹œëŒ€ì˜ ì •ì˜ì  íŠ¹ì§•ì…ë‹ˆë‹¤."},
            {id: 5, era: "ê³ ì¡°ì„ ", level: "elementary", q: "ìš°ë¦¬ ë¯¼ì¡± ìµœì´ˆì˜ êµ­ê°€ ê³ ì¡°ì„ ì„ ì„¸ìš´ ì‚¬ëŒì€?", options: ["ê´‘ê°œí† ëŒ€ì™•", "ë‹¨êµ°ì™•ê²€", "ì™•ê±´", "ì´ì„±ê³„"], correct: 1, explain: "ê³ ì¡°ì„ ì„ ê±´êµ­í•œ ì‚¬ëŒì€ ë‹¨êµ°ì™•ê²€ì…ë‹ˆë‹¤.", why: "ë‹¨êµ°ì™•ê²€ì€ ê³ ì¡°ì„ ì˜ ê±´êµ­ìì…ë‹ˆë‹¤."},
            {id: 6, era: "ê³ ì¡°ì„ ", level: "elementary", q: "ê³ ì¡°ì„ ì´ ê±´êµ­ëœ ì—°ë„ëŠ”?", options: ["ê¸°ì›ì „ 2333ë…„", "ê¸°ì›ì „ 1000ë…„", "ê¸°ì›ì „ 108ë…„", "ê¸°ì› 100ë…„"], correct: 0, explain: "ê³ ì¡°ì„ ì€ ê¸°ì›ì „ 2333ë…„ì— ê±´êµ­ë˜ì—ˆìŠµë‹ˆë‹¤.", why: "ì´ê²ƒì€ í•œêµ­ ì—­ì‚¬ìƒ í™•ì •ëœ ì¤‘ìš”í•œ ì—°ë„ì…ë‹ˆë‹¤."},
            {id: 7, era: "ì‚¼êµ­ì‹œëŒ€", level: "elementary", q: "ì‚¼êµ­ì‹œëŒ€ì˜ ì„¸ ë‚˜ë¼ëŠ”?", options: ["ê³ ì¡°ì„ , ë°œí•´, ì‹ ë¼", "ê³ êµ¬ë ¤, ë°±ì œ, ì‹ ë¼", "ê³ êµ¬ë ¤, ê³ ë ¤, ì‹ ë¼", "ë°±ì œ, ì‹ ë¼, ê°€ì•¼"], correct: 1, explain: "ì‚¼êµ­ì‹œëŒ€ì˜ ì„¸ ë‚˜ë¼ëŠ” ê³ êµ¬ë ¤, ë°±ì œ, ì‹ ë¼ì…ë‹ˆë‹¤.", why: "ì‚¼êµ­ì€ ì´ ì„¸ ë‚˜ë¼ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤."},
            {id: 8, era: "ì‚¼êµ­ì‹œëŒ€", level: "middle", q: "4ì„¸ê¸° ë°±ì œì˜ ì „ì„±ê¸°ë¥¼ ì´ëˆ ì™•ì€?", options: ["ê·¼ì´ˆê³ ì™•", "ì„¸ì¢…ëŒ€ì™•", "ì§„í¥ì™•", "ë¬¸ë¬´ì™•"], correct: 0, explain: "ë°±ì œì˜ 4ì„¸ê¸° ì „ì„±ê¸°ëŠ” ê·¼ì´ˆê³ ì™• ë•Œì…ë‹ˆë‹¤.", why: "ê·¼ì´ˆê³ ì™•ì€ ë°±ì œ ì—­ì‚¬ì—ì„œ ê°€ì¥ ê°•ë ¥í•œ ì™•ì´ì—ˆìŠµë‹ˆë‹¤."},
            {id: 9, era: "ê³ ë ¤", level: "elementary", q: "íŒ”ë§ŒëŒ€ì¥ê²½ì´ ë¬´ì—‡ìœ¼ë¡œ ë§Œë“¤ì–´ì¡Œë‚˜?", options: ["ì¢…ì´", "ë‚˜ë¬´íŒ", "ëŒ", "ë‚˜ë­‡ì"], correct: 1, explain: "íŒ”ë§ŒëŒ€ì¥ê²½ì€ ì•½ 80,000ì¥ì˜ ë‚˜ë¬´íŒìœ¼ë¡œ ë§Œë“¤ì–´ì¡ŒìŠµë‹ˆë‹¤.", why: "ë‚˜ë¬´íŒì— ê¸€ìë¥¼ ìƒˆê²¨ì„œ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤."},
            {id: 10, era: "ê³ ë ¤", level: "elementary", q: "íŒ”ë§ŒëŒ€ì¥ê²½ì´ ë³´ê´€ëœ ê³³ì€?", options: ["ë¶ˆêµ­ì‚¬", "í•´ì¸ì‚¬", "íŒ”ë§Œì‚¬", "ê²½ì£¼ ë°•ë¬¼ê´€"], correct: 1, explain: "íŒ”ë§ŒëŒ€ì¥ê²½ì€ í•´ì¸ì‚¬ì— ë³´ê´€ë˜ì–´ ìˆìŠµë‹ˆë‹¤.", why: "í•´ì¸ì‚¬ëŠ” íŒ”ë§ŒëŒ€ì¥ê²½ì„ ë³´ê´€í•˜ëŠ” ìœ ëª…í•œ ì‚¬ì°°ì…ë‹ˆë‹¤."},
            {id: 11, era: "ì¡°ì„ ", level: "elementary", q: "ì¡°ì„ ì„ ê±´êµ­í•œ ì™•ì€?", options: ["ì„¸ì¢…ëŒ€ì™•", "ì´ì„±ê³„", "íƒœì¢…", "ì •ì¢…"], correct: 1, explain: "ì¡°ì„ ì€ ì´ì„±ê³„ê°€ ê±´êµ­í–ˆìŠµë‹ˆë‹¤.", why: "ì´ì„±ê³„ëŠ” ì¡°ì„  ì™•ì¡°ì˜ ì°½ê±´ìì…ë‹ˆë‹¤."},
            {id: 12, era: "ì¡°ì„ ", level: "elementary", q: "í•œê¸€ì˜ ê¸°ë³¸ ê¸€ìëŠ” ëª‡ ê°œì¸ê°€?", options: ["8ê°œ", "10ê°œ", "14ê°œ", "24ê°œ"], correct: 2, explain: "í•œê¸€ì˜ ê¸°ë³¸ ê¸€ìëŠ” 14ê°œ(ììŒ 14, ëª¨ìŒ 10)ì…ë‹ˆë‹¤.", why: "í•œê¸€ì€ ììŒ 14ê°œì™€ ëª¨ìŒ 10ê°œë¡œ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤."},
            {id: 13, era: "ì¡°ì„ ", level: "middle", q: "í•œê¸€ì´ ë§Œë“¤ì–´ì§„ ëª©ì ì€?", options: ["ì¤‘êµ­ì„ ë”°ë¼", "ëª¨ë“  ë°±ì„±ì´ ì‰½ê²Œ ë°°ìš°ê³  ì“°ê¸° ìœ„í•¨", "ë²•ë¥ ìš©", "ì¢…êµìš©"], correct: 1, explain: "ì„¸ì¢…ëŒ€ì™•ì€ ëª¨ë“  ë°±ì„±ì´ ê¸€ì„ ì‰½ê²Œ ë°°ìš°ë„ë¡ í•˜ê¸° ìœ„í•´ í•œê¸€ì„ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.", why: "í•œê¸€ì€ ê°€ì¥ ê³¼í•™ì ì´ê³  ì‹¤ìš©ì ì¸ ë¬¸ìë¥¼ ë§Œë“¤ê¸° ìœ„í•œ ëª©í‘œì˜€ìŠµë‹ˆë‹¤."},
            {id: 14, era: "ê·¼í˜„ëŒ€", level: "elementary", q: "3Â·1 ìš´ë™ì´ ì¼ì–´ë‚œ ì—°ë„ëŠ”?", options: ["1910ë…„", "1919ë…„", "1945ë…„", "1948ë…„"], correct: 1, explain: "3Â·1 ìš´ë™ì€ 1919ë…„ 3ì›” 1ì¼ì— ì¼ì–´ë‚¬ìŠµë‹ˆë‹¤.", why: "3Â·1ì€ ì—°ì›”ì¼ì„ ëœ»í•©ë‹ˆë‹¤."},
            {id: 15, era: "ê·¼í˜„ëŒ€", level: "elementary", q: "ì¼ì œê°•ì ê¸°ëŠ” ëª‡ ë…„ ë™ì•ˆ ì§€ì†ë˜ì—ˆë‚˜?", options: ["20ë…„", "36ë…„", "50ë…„", "60ë…„"], correct: 1, explain: "ì¼ì œê°•ì ê¸°ëŠ” 1910ë…„ë¶€í„° 1945ë…„ê¹Œì§€ 36ë…„ê°„ ì§€ì†ë˜ì—ˆìŠµë‹ˆë‹¤.", why: "1945ë…„ - 1910ë…„ = 35ë…„ì´ì§€ë§Œ í¬í•¨í•˜ë©´ 36ë…„ì…ë‹ˆë‹¤."},
        ];

        // ========== ìƒíƒœ ê´€ë¦¬ ==========
        let currentIndex = 0;
        let correctCount = 0;
        let answered = false;

        // ========== ì´ˆê¸°í™” ==========
        window.addEventListener('load', function() {
            loadQuestion();
        });

        // ========== ë¬¸ì œ ë¡œë“œ ==========
        function loadQuestion() {
            if (currentIndex >= quizData.length) {
                showCompletion();
                return;
            }

            answered = false;
            const quiz = quizData[currentIndex];

            // íƒœê·¸ ì—…ë°ì´íŠ¸
            document.getElementById('tagEra').textContent = quiz.era;
            const levelMap = {
                elementary: "ì´ˆë“± ê¸°ì´ˆ",
                middle: "ì¤‘í•™ ì‹¬í™”",
                high: "ê³ ë“± ì‹¬í™”",
                suneung: "ìˆ˜ëŠ¥ ëŒ€ë¹„"
            };
            document.getElementById('tagLevel').textContent = levelMap[quiz.level];
            document.getElementById('eraDisplay').textContent = quiz.era;

            // ë¬¸ì œ í…ìŠ¤íŠ¸
            document.getElementById('questionText').textContent = quiz.q;

            // ì„ íƒì§€
            const container = document.getElementById('optionsContainer');
            container.innerHTML = '';
            quiz.options.forEach((option, idx) => {
                const btn = document.createElement('button');
                btn.className = 'option-btn';
                btn.textContent = option;
                btn.onclick = () => selectAnswer(idx, quiz);
                container.appendChild(btn);
            });

            // í”¼ë“œë°± ë¦¬ì…‹
            document.getElementById('feedbackBox').classList.remove('show', 'correct', 'incorrect');
            document.getElementById('nextBtn').classList.remove('show');

            // ì§„í–‰ë„ ì—…ë°ì´íŠ¸
            const progress = currentIndex + 1;
            document.getElementById('progressDisplay').textContent = `${progress}/${quizData.length}`;
            document.getElementById('correctDisplay').textContent = correctCount;
            const accuracy = progress > 0 ? Math.round((correctCount / progress) * 100) : 0;
            document.getElementById('accuracyDisplay').textContent = accuracy + '%';
        }

        // ========== ë‹µë³€ ì„ íƒ ==========
        function selectAnswer(selectedIdx, quiz) {
            if (answered) return;
            answered = true;

            const correctIdx = quiz.correct;
            const buttons = document.querySelectorAll('.option-btn');
            const isCorrect = selectedIdx === correctIdx;

            // ë²„íŠ¼ ìƒíƒœ ì—…ë°ì´íŠ¸
            buttons.forEach((btn, idx) => {
                if (idx === correctIdx) {
                    btn.classList.add('correct');
                } else if (idx === selectedIdx && !isCorrect) {
                    btn.classList.add('incorrect');
                }
                btn.disabled = true;
            });

            // ì •ë‹µ ì¹´ìš´íŠ¸
            if (isCorrect) {
                correctCount++;
            }

            // í”¼ë“œë°± í‘œì‹œ
            showFeedback(isCorrect, quiz, selectedIdx);

            // ë‹¤ìŒ ë²„íŠ¼ í‘œì‹œ
            setTimeout(() => {
                document.getElementById('nextBtn').classList.add('show');
            }, 500);

            // í†µê³„ ì—…ë°ì´íŠ¸
            const progress = currentIndex + 1;
            document.getElementById('correctDisplay').textContent = correctCount;
            const accuracy = Math.round((correctCount / progress) * 100);
            document.getElementById('accuracyDisplay').textContent = accuracy + '%';
        }

        // ========== í”¼ë“œë°± í‘œì‹œ ==========
        function showFeedback(isCorrect, quiz, selectedIdx) {
            const box = document.getElementById('feedbackBox');
            const title = document.getElementById('feedbackTitle');
            const body = document.getElementById('feedbackBody');

            if (isCorrect) {
                box.className = 'feedback show correct';
                title.textContent = 'âœ“ ì •ë‹µì…ë‹ˆë‹¤! ì™„ë²½í•´ìš”!';
                body.innerHTML = `
                    <div class="feedback-item"><strong>ì •ë‹µ:</strong> ${quiz.options[quiz.correct]}</div>
                    <div class="feedback-item"><strong>ğŸ“š ì„¤ëª…:</strong> ${quiz.explain}</div>
                    <div class="feedback-item"><strong>ğŸ’¡ í•µì‹¬:</strong> ${quiz.why}</div>
                `;
            } else {
                box.className = 'feedback show incorrect';
                title.textContent = 'âœ— ì•„ì‰¬ì›Œìš”! í‹€ë ¸ìŠµë‹ˆë‹¤.';
                body.innerHTML = `
                    <div class="feedback-item"><strong>ë‹¹ì‹ ì˜ ë‹µ:</strong> ${quiz.options[selectedIdx]}</div>
                    <div class="feedback-item"><strong>ì •ë‹µ:</strong> ${quiz.options[quiz.correct]}</div>
                    <div class="feedback-item"><strong>ğŸ“š ì„¤ëª…:</strong> ${quiz.explain}</div>
                    <div class="feedback-item"><strong>âŒ ì™œ í‹€ë ¸ë‚˜:</strong> "${quiz.options[selectedIdx]}"ëŠ” ì˜ëª»ëœ ë‹µì…ë‹ˆë‹¤. ${quiz.why}</div>
                    <div class="feedback-item"><strong>ğŸ’¡ ë‹¤ìŒì— ê¸°ì–µ:</strong> "${quiz.options[quiz.correct]}"ê°€ ì •ë‹µì…ë‹ˆë‹¤!</div>
                `;
            }
        }

        // ========== ë‹¤ìŒ ë¬¸ì œ ==========
        function goNextQuestion() {
            currentIndex++;
            loadQuestion();
        }

        // ========== ì™„ë£Œ í™”ë©´ ==========
        function showCompletion() {
            document.getElementById('quizScreen').style.display = 'none';
            document.getElementById('completionScreen').classList.add('show');

            const accuracy = Math.round((correctCount / quizData.length) * 100);
            document.getElementById('finalScore').textContent = `${correctCount}/${quizData.length} (${accuracy}%)`;

            let message = '';
            if (accuracy >= 90) message = 'ì™„ë²½í•©ë‹ˆë‹¤! ğŸ† í•œêµ­ ì—­ì‚¬ì˜ ëŒ€ê°€ì…ë‹ˆë‹¤!';
            else if (accuracy >= 80) message = 'ë§¤ìš° ì¢‹ìŠµë‹ˆë‹¤! ğŸ’ª ì¡°ê¸ˆ ë” ë…¸ë ¥í•˜ë©´ ì™„ë²½í•´ì§‘ë‹ˆë‹¤!';
            else if (accuracy >= 70) message = 'ì¢‹ìŠµë‹ˆë‹¤! ğŸ“š ë‹¤ì‹œ í•œ ë²ˆ ë°˜ë³µí•˜ì„¸ìš”!';
            else message = 'í™”ì´íŒ…! ğŸš€ ì°¨ê·¼ì°¨ê·¼ ë‹¤ì‹œ í•™ìŠµí•´ë´…ì‹œë‹¤!';

            document.getElementById('finalMessage').textContent = message;
        }

        // ========== ì´ˆê¸°í™” ==========
        function resetQuiz() {
            currentIndex = 0;
            correctCount = 0;
            answered = false;
            document.getElementById('quizScreen').style.display = 'block';
            document.getElementById('completionScreen').classList.remove('show');
            loadQuestion();
        }
    </script>
</body>
</html>
